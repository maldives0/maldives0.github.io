<!DOCTYPE html><html lang="en" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="theme" content="Chirpy v2.7.0"><meta name="generator" content="Jekyll v4.1.1" /><meta property="og:title" content="webpack-html과 scss 그리고 code spliting 적용하기" /><meta name="author" content="juyoung" /><meta property="og:locale" content="en_US" /><meta name="description" content="webpack으로 scss와 code spliting, 이미지 가져오기를 적용해보았다. 가장 문제가 되었던 것이 webpack-dev-server와 build한 파일의 publicPath가 일치하지 않은 것이었다." /><meta property="og:description" content="webpack으로 scss와 code spliting, 이미지 가져오기를 적용해보았다. 가장 문제가 되었던 것이 webpack-dev-server와 build한 파일의 publicPath가 일치하지 않은 것이었다." /><link rel="canonical" href="https://maliethy.github.io/posts/webpackConfig-html_scss/" /><meta property="og:url" content="https://maliethy.github.io/posts/webpackConfig-html_scss/" /><meta property="og:site_name" content="개발장이" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-01-20T20:11:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="webpack-html과 scss 그리고 code spliting 적용하기" /><meta name="twitter:site" content="@maliethy0" /><meta name="twitter:creator" content="@juyoung" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"juyoung"},"description":"webpack으로 scss와 code spliting, 이미지 가져오기를 적용해보았다. 가장 문제가 되었던 것이 webpack-dev-server와 build한 파일의 publicPath가 일치하지 않은 것이었다.","url":"https://maliethy.github.io/posts/webpackConfig-html_scss/","@type":"BlogPosting","headline":"webpack-html과 scss 그리고 code spliting 적용하기","dateModified":"2021-01-20T20:11:00+09:00","datePublished":"2021-01-20T20:11:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://maliethy.github.io/posts/webpackConfig-html_scss/"},"@context":"https://schema.org"}</script><title>webpack-html과 scss 그리고 code spliting 적용하기 | 개발장이</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" href="/assets/css/post.css" as="style"><link rel="stylesheet" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="/assets/js/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column"><div id="nav-wrapper"><div id="profile-wrapper" class="d-flex flex-column"><div id="avatar" class="d-flex justify-content-center"> <a href="/" alt="avatar"> <img src="/assets/img/happiness.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="profile-text mt-3"><div class="site-title"> <a href="/">개발장이</a></div><div class="site-subtitle font-italic">maldives0에서 maliethy로 깃헙 블로그 이름 변경합니다.</div></div></div><ul class="nav flex-column"><li class="nav-item d-flex justify-content-center "> <a href="/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/categories/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/tags/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/archives/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/about/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul></div><div class="sidebar-bottom d-flex flex-wrap justify-content-around mt-4"> <a href="https://github.com/maliethy" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/maliethy0" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['maliethy','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>webpack-html과 scss 그리고 code spliting 적용하기</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>webpack-html과 scss 그리고 code spliting 적용하기</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Jan 20, 2021, 8:11 PM +0900" > Jan 20 <i class="unloaded">2021-01-20T20:11:00+09:00</i> </span> by <span class="author"> juyoung </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1100 words">6 min</span></div></div><div class="post-content"><p>webpack으로 scss와 code spliting, 이미지 가져오기를 적용해보았다. 가장 문제가 되었던 것이 webpack-dev-server와 build한 파일의 <code class="language-plaintext highlighter-rouge">publicPath</code>가 일치하지 않은 것이었다. <br /></p><p>production mode일 때, <code class="language-plaintext highlighter-rouge">publicPath</code>에 파일들이 위치할 서버 상의 경로를 넣어주면 빌드 시에는 번들한 파일 이름 앞에 해당 설정값이 포함되어 html에 script 태그로 자동 입력된다. 나의 경우 로컬의 파일구조 <code class="language-plaintext highlighter-rouge">/webpack/dist/</code>를 설정값에 적어주면 html에 /webpack/dist/(번들된 파일)로 자동으로 입력되었다. <br /></p><div class="language-html highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nt">&lt;script
  </span><span class="na">defer=</span><span class="s">"defer"</span>
  <span class="na">src=</span><span class="s">"/webpack/dist/vendor.0ef3ea92ffc39d3f0fbb.js"</span>
<span class="nt">&gt;&lt;/script&gt;</span>
</pre></table></code></div></div><p><br /></p><p>그러나 development mode일 경우, webpack-dev-server로 가상의 서버를 띄웠을 때는 <code class="language-plaintext highlighter-rouge">/</code>로 설정해야 웹팩 데브 서버가 번들한 결과물이 위치하는 경로를 제대로 읽어낼 수 있었다. <br /></p><div class="language-html highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nt">&lt;script </span><span class="na">defer=</span><span class="s">"defer"</span> <span class="na">src=</span><span class="s">"/vendor.0ef3ea92ffc39d3f0fbb.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></table></code></div></div><p><br /> webpack/webpack.config.js</p><div class="language-javascript highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">path</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">webpack</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">webpack</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">HtmlWebpackPlugin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">html-webpack-plugin</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">MiniCssExtractPlugin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">mini-css-extract-plugin</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="p">{</span> <span class="nx">CleanWebpackPlugin</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">clean-webpack-plugin</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="p">{</span> <span class="nx">WebpackManifestPlugin</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">webpack-manifest-plugin</span><span class="dl">'</span><span class="p">);</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">(</span><span class="nx">env</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">prod</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">mode</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">production</span><span class="dl">'</span><span class="p">;</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">prod</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">mode</span><span class="p">:</span> <span class="nx">prod</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">production</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">development</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">devtool</span><span class="p">:</span> <span class="nx">prod</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">eval</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">hidden-source-map</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">resolve</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">extensions</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">.js</span><span class="dl">'</span><span class="p">],</span>
    <span class="p">},</span>
    <span class="na">entry</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">index</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">./src/index.js</span><span class="dl">'</span><span class="p">],</span>
    <span class="p">},</span>
    <span class="na">output</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">path</span><span class="p">:</span> <span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="dl">'</span><span class="s1">./dist</span><span class="dl">'</span><span class="p">),</span> <span class="c1">//output으로 나올 파일이 저장될 경로</span>
      <span class="na">publicPath</span><span class="p">:</span> <span class="nx">prod</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">/webpack/dist/</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span><span class="p">,</span> <span class="c1">//파일들이 위치할 서버 상의 경로(빌드 시 내 로컬 파일 구조)</span>
      <span class="na">filename</span><span class="p">:</span> <span class="dl">'</span><span class="s1">[name].[chunkhash].js</span><span class="dl">'</span><span class="p">,</span> <span class="c1">//청크별로 해시값이 부여</span>
    <span class="p">},</span>
    <span class="na">plugins</span><span class="p">:</span> <span class="p">[</span>
      <span class="k">new</span> <span class="nx">CleanWebpackPlugin</span><span class="p">(),</span> <span class="c1">//빌드할 때 전에 빌드할 때 미리 만들어져있는 파일이 있다면 삭제하기(기본적으로 변경되는 부분만 바뀐다, 단 npm run dev를 하면 전체 삭제됨)</span>
      <span class="k">new</span> <span class="nx">HtmlWebpackPlugin</span><span class="p">({</span>
        <span class="na">template</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./src/index.html</span><span class="dl">'</span><span class="p">,</span> <span class="c1">//정의되어있는 기본 template을 기준으로 번들링 시에 새로운 html 파일을 생성해 준다(js, css에 수정사항이 있을 시)</span>
      <span class="p">}),</span>
      <span class="k">new</span> <span class="nx">MiniCssExtractPlugin</span><span class="p">({</span>
        <span class="na">filename</span><span class="p">:</span> <span class="dl">'</span><span class="s1">[name].[contenthash].css</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">chunkFilename</span><span class="p">:</span> <span class="dl">'</span><span class="s1">[id].[contenthash].css</span><span class="dl">'</span><span class="p">,</span>
      <span class="p">}),</span> <span class="c1">//여러 css 파일을 하나의 파일로 묶어서 번들링함</span>
      <span class="k">new</span> <span class="nx">webpack</span><span class="p">.</span><span class="nx">LoaderOptionsPlugin</span><span class="p">({</span>
        <span class="na">minimize</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="p">}),</span> <span class="c1">//loader들의 옵션을 설정할 수 있다</span>
      <span class="k">new</span> <span class="nx">WebpackManifestPlugin</span><span class="p">(),</span> <span class="c1">//manifest파일을 자동으로 생성한다, 별다른 설정없이도 빌드할 때마다 manifest의 파일경로(src)가 바뀌는데 이 바뀌는 경로들이 자동으로 html파일에 적용된다.</span>
    <span class="p">],</span>
    <span class="na">module</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">rules</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">scss$/</span><span class="p">,</span>
          <span class="na">use</span><span class="p">:</span> <span class="p">[</span>
            <span class="nx">prod</span> <span class="p">?</span> <span class="nx">MiniCssExtractPlugin</span><span class="p">.</span><span class="nx">loader</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">style-loader</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">css-loader</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">sass-loader</span><span class="dl">'</span><span class="p">,</span>
          <span class="p">],</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">js</span><span class="se">?</span><span class="sr">$/</span><span class="p">,</span>
          <span class="na">loader</span><span class="p">:</span> <span class="dl">'</span><span class="s1">babel-loader</span><span class="dl">'</span><span class="p">,</span>
          <span class="na">options</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">plugins</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">@babel/plugin-syntax-dynamic-import</span><span class="dl">'</span><span class="p">],</span> <span class="c1">//코드 스플리팅을 적용한다</span>
            <span class="na">presets</span><span class="p">:</span> <span class="p">[</span>
              <span class="p">[</span>
                <span class="dl">'</span><span class="s1">@babel/preset-env</span><span class="dl">'</span><span class="p">,</span>
                <span class="p">{</span>
                  <span class="na">modules</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
                  <span class="na">targets</span><span class="p">:</span> <span class="dl">'</span><span class="s1">&gt; 0.25%, not dead</span><span class="dl">'</span><span class="p">,</span>
                  <span class="na">useBuiltIns</span><span class="p">:</span> <span class="dl">'</span><span class="s1">entry</span><span class="dl">'</span><span class="p">,</span>
                  <span class="na">corejs</span><span class="p">:</span> <span class="dl">'</span><span class="s1">3.0.0</span><span class="dl">'</span><span class="p">,</span>
                <span class="p">},</span>
              <span class="p">],</span>
            <span class="p">],</span>
          <span class="p">},</span>
          <span class="na">exclude</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">/node_modules</span><span class="dl">'</span><span class="p">],</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.(</span><span class="sr">ico|png|jpg|jpeg|gif|svg|woff|woff2|ttf|eot</span><span class="se">)(\?</span><span class="sr">v=</span><span class="se">[</span><span class="sr">0-9</span><span class="se">]\.[</span><span class="sr">0-9</span><span class="se">]\.[</span><span class="sr">0-9</span><span class="se">])?</span><span class="sr">$/</span><span class="p">,</span>
          <span class="na">loader</span><span class="p">:</span> <span class="dl">'</span><span class="s1">url-loader</span><span class="dl">'</span><span class="p">,</span>
          <span class="na">options</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">[hash].[ext]</span><span class="dl">'</span><span class="p">,</span> <span class="c1">//[hash]는 웹팩 빌드를 할 때마다 고유값이 설정됨</span>
            <span class="na">limit</span><span class="p">:</span> <span class="mi">10000</span><span class="p">,</span>
            <span class="na">esModule</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
          <span class="p">},</span>
        <span class="p">},</span>
      <span class="p">],</span>
    <span class="p">},</span>
    <span class="na">devServer</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">historyApiFallback</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="na">publicPath</span><span class="p">:</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span><span class="p">,</span> <span class="c1">// 웹팩 데브 서버가 번들한 결과물이 위치하는 경로(보통 output에 적어주는 publicPath와 동일한 위치를 표시),</span>
      <span class="na">contentBase</span><span class="p">:</span> <span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="dl">'</span><span class="s1">./dist</span><span class="dl">'</span><span class="p">),</span> <span class="c1">//콘텐츠를 제공할 경로지정(정적파일을 제공하려는 경우에만 필요),</span>
    <span class="p">},</span>
    <span class="na">optimization</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">minimize</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="na">splitChunks</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">cacheGroups</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">vendor</span><span class="p">:</span> <span class="p">{</span>
            <span class="c1">// 청크들간 공통적으로 사용하는 모듈들을 모아둔 것</span>
            <span class="na">chunks</span><span class="p">:</span> <span class="dl">'</span><span class="s1">initial</span><span class="dl">'</span><span class="p">,</span>
            <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">vendor</span><span class="dl">'</span><span class="p">,</span>
            <span class="na">enforce</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="p">},</span>
        <span class="p">},</span>
      <span class="p">},</span>
      <span class="na">concatenateModules</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="p">},</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="nx">config</span><span class="p">;</span>
<span class="p">};</span>
</pre></table></code></div></div><p><br /></p><p>webpack/src/index.js</p><div class="language-javascript highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="dl">'</span><span class="s1">./style/main.scss</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="dl">'</span><span class="s1">core-js/stable</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="dl">'</span><span class="s1">regenerator-runtime/runtime</span><span class="dl">'</span><span class="p">;</span>
<span class="c1">//다음과 같이 import하면 웹팩에서 알아서 해당 코드가 필요할 때마다 비동기적으로 로딩해준다, import한 값은 Promise객체이다</span>
<span class="k">import</span><span class="p">(</span><span class="cm">/* webpackChunkName: "module" */</span> <span class="dl">'</span><span class="s1">./module</span><span class="dl">'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">p</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">p</span><span class="dl">'</span><span class="p">);</span>
    <span class="nx">p</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="nx">res</span><span class="p">.</span><span class="k">default</span><span class="p">;</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">module error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>

<span class="kd">const</span> <span class="nx">div</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">);</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">div</span><span class="p">);</span>
</pre></table></code></div></div><p>결과물은 다음과 같다.<br /></p><p>webpack/dist/index.html</p><div class="language-html highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"utf-8"</span> <span class="na">lang=</span><span class="s">"ko"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;title&gt;</span>hello<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;script
      </span><span class="na">defer=</span><span class="s">"defer"</span>
      <span class="na">src=</span><span class="s">"/webpack/dist/vendor.0ef3ea92ffc39d3f0fbb.js"</span>
    <span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;script
      </span><span class="na">defer=</span><span class="s">"defer"</span>
      <span class="na">src=</span><span class="s">"/webpack/dist/index.f41f95a8ac593bbf808a.js"</span>
    <span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;link</span>
      <span class="na">href=</span><span class="s">"/webpack/dist/vendor.30ab4e262a68d4200550.css"</span>
      <span class="na">rel=</span><span class="s">"stylesheet"</span>
    <span class="nt">/&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div&gt;</span>hello<span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/img/webpack_html.jpg" alt="webpack_html" /><br /> <br /></p><p>전체 폴더 구조는 <a href="https://github.com/maldives0/webpack">깃헙</a>에 있습니다 <br /></p><p>출처:<br /></p><p><a href="https://kamang-it.tistory.com/entry/BuildSystemModuleBundlerWebpacksassscss%EB%A5%BC-css%EB%A1%9C-%EB%B0%94%EA%BE%B8%EA%B8%B03">[BuildSystem][ModuleBundler][Webpack]sass(scss)를 css로 바꾸기(3)</a> <br /></p><p><a href="https://kdydesign.github.io/2017/11/04/webpack-tutorial/">Webpack 완전정복하기!!</a> <br /></p><p><a href="https://www.zerocho.com/category/Webpack">zeroCho blog: Webpack</a></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/webpack/'>webpack</a>, <a href='/categories/html/'>html</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/webpack/" class="post-tag no-text-decoration" >webpack</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=webpack-html과 scss 그리고 code spliting 적용하기 - 개발장이&url=https://maliethy.github.io/posts/webpackConfig-html_scss/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=webpack-html과 scss 그리고 code spliting 적용하기 - 개발장이&u=https://maliethy.github.io/posts/webpackConfig-html_scss/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=webpack-html과 scss 그리고 code spliting 적용하기 - 개발장이&url=https://maliethy.github.io/posts/webpackConfig-html_scss/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/semantic_html/">시맨틱(Semantic)</a><li><a href="/posts/service-worker/">daon 동영상 로딩 오류 문제 해결하기</a><li><a href="/posts/nodejs/">NodeJS와 NPM</a><li><a href="/posts/closure/">javascript - closure 클로저 이해하기</a><li><a href="/posts/prettier/">daon 프로젝트에 eslint와 prettier 적용하기</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/html/">html</a> <a class="post-tag" href="/tags/react/">react</a> <a class="post-tag" href="/tags/github-io/">github.io</a> <a class="post-tag" href="/tags/diary/">diary</a> <a class="post-tag" href="/tags/api/">api</a> <a class="post-tag" href="/tags/node/">node</a> <a class="post-tag" href="/tags/webpack/">webpack</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/module-bundling/"><div class="card-body"> <span class="timeago small" > Jan 9 <i class="unloaded">2021-01-09T20:58:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>ymillonga-map 프로젝트 모듈시스템 적용하기</h3><div class="text-muted small"><p> 현재 active.js와 map.js 두 개의 파일로 나누어진 두 파일이 공통으로 사용하는 함수를 모듈로 만들어 재사용성을 높이고 무엇보다 코드량을 줄여 가독성을 높이기 위해 모듈시스템을 적용하기로 했다. 1. webpack 설정하기 여러 modules로 쪼개진 js파일들을 합치기 위해 webpack으로 bundling해줄 필요가 있어서 다음과 ...</p></div></div></a></div><div class="card"> <a href="/posts/browser_optimize_performance/"><div class="card-body"> <span class="timeago small" > Jan 13 <i class="unloaded">2021-01-13T13:46:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>브라우저 작동원리와 성능 최적화</h3><div class="text-muted small"><p> 프런트엔드 성능 최적화라는 동영상을 보며 브라우저에서 로딩과 렌더링 최적화가 얼마나 중요한지에 대한 설명을 듣던 중 DOMContentLoaded, virtual DOM, 런타임과 빌드타임, SSR 등등 실제 프로젝트를 하며 많이 들었던 개념들이 나왔다. 이런 개념들이 아직 애매하게 다가와 동영상의 내용을 정리하며 다시 집어보기로 한다. 우선 브라...</p></div></div></a></div><div class="card"> <a href="/posts/callback_promise_async_await/"><div class="card-body"> <span class="timeago small" > Jan 14 <i class="unloaded">2021-01-14T13:46:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>callback과 promise 그리고 async/await</h3><div class="text-muted small"><p> 1. callback 함수 콜백 함수는 나중에 호출할 함수를 의미하며 비동기 동작을 처리하기 위해 쓰인다. function loadScript(src, callback) { let script = document.createElement('script'); script.src = src; script.onload = () =&gt;...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/insertSort/" class="btn btn-outline-primary"><p>Algorithm-삽입 정렬</p></a> <a href="/posts/move-blog-to-velog/" class="btn btn-outline-primary"><p>github.io에서 velog로 블로그 이사합니다.</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="font-italic text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> var options = { scriptUrl: '//maliethy.disqus.com/embed.js', disqusConfig: function() { this.page.url = 'https://maliethy.github.io/posts/webpackConfig-html_scss/'; this.page.identifier = '/posts/webpackConfig-html_scss/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#post-wrapper img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/maliethy0">juyoung jung</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/html/">html</a> <a class="post-tag" href="/tags/react/">react</a> <a class="post-tag" href="/tags/github-io/">github.io</a> <a class="post-tag" href="/tags/diary/">diary</a> <a class="post-tag" href="/tags/api/">api</a> <a class="post-tag" href="/tags/node/">node</a> <a class="post-tag" href="/tags/webpack/">webpack</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://maliethy.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
